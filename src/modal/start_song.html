<button class=button id=cancel><img src=/images/icon-x.svg></button>
<div class="expandable modal-content" id=settings-modal>
    <div class=expandable-inner>
        <div class="setting-column setting-column--left">
            <div class=setting-group> <label for=bars>Length</label>
                <div class=quantity> <input id=bars type=number name=bars value=4 min=1 max=16 data-label=bars> </div>
                <div class="difficulty-info">ⓘ
                    <span class="tooltip-text">Determines how many bars your song will have. More bars = longer song.</span>
                </div>
            </div>
            <div class=setting-group> <label for=beats>Beats per bar</label>
                <div class=quantity> <input id=beats type=number name=beats value=2 min=2 max=7> </div>
                <div class="difficulty-info">ⓘ
                    <span class="tooltip-text">Sets the time signature of your song. Common values are 3 (waltz), 4 (standard), or 6 (compound meter).</span>
                </div>
            </div>
            <div class=setting-group> <label for=subdivision>Split beats into</label>
                <div class=quantity> <input id=subdivision type=number name=subdivision value=2 min=1 max=4> </div>
                <div class="difficulty-info">ⓘ
                    <span class="tooltip-text">Determines rhythmic detail. Higher values allow for more complex rhythms with shorter note values.</span>
                </div>
            </div>
        </div>
        <div class="setting-column setting-column--right">
            <div class=setting-group> <label for=scale>Scale</label>
                <span class=select-wrap>
                    <select id=scale name=scale>
                        <option value=major>Major</option>
                        <option value=pentatonic>Pentatonic</option>
                        <option value=chromatic>Chromatic</option>
                    </select>
                </span>
                <div class="difficulty-info">ⓘ
                    <span class="tooltip-text">Major: Traditional 7-note scale. Pentatonic: 5-note scale that always sounds harmonious. Chromatic: All 12 notes per octave.</span>
                </div>
            </div>
            <div class=setting-group> <label for=difficulty>Difficulty</label>
                <span class=select-wrap>
                    <select id=difficulty name=difficulty>
                        <option value=beginner>Beginner</option>
                        <option value=intermediate selected=selected>Intermediate</option>
                        <option value=advanced>Advanced</option>
                    </select>
                </span>
                <div class="difficulty-info">ⓘ
                    <span class="tooltip-text">Beginner: Simplified scales, fewer notes, simpler rhythms. Intermediate: Standard options. Advanced: Extended note range, complex rhythms.</span>
                </div>
            </div>
            <div class=setting-group> <label for=rootPitch>Start on</label>
                <span class=select-wrap>
                    <select id=rootPitch name=rootPitch>
                        <option value=0 selected=selected>C</option>
                        <option value=1>C♯ / D♭</option>
                        <option value=2>D</option>
                        <option value=3>D♯ / E♭</option>
                        <option value=4>E</option>
                        <option value=5>F</option>
                        <option value=6>F♯ / G♭</option>
                        <option value=7>G</option>
                        <option value=8>G♯ / A♭</option>
                        <option value=9>A</option>
                        <option value=10>A♯ / B♭</option>
                        <option value=11>B</option>
                    </select>
                </span>
                <span class=select-wrap>
                    <select name=rootOctave>
                        <option value=3>Low</option>
                        <option value=4 selected=selected>Middle</option>
                        <option value=5>High</option>
                    </select>
                </span>
                <div class="difficulty-info">ⓘ
                    <span class="tooltip-text">Determines the lowest note in your song. The pitch (C, D, etc.) and octave (Low, Middle, High) set the starting point for your scale.</span>
                </div>
            </div>
            <div class=setting-group> <label for=octaves>Range</label>
                <div class=quantity> <input id=octaves type=number name=octaves value=2 min=1 max=3 data-label=octave>
                </div>
                <div class="difficulty-info">ⓘ
                    <span class="tooltip-text">Number of octaves available. More octaves = wider range of notes from low to high.</span>
                </div>
            </div>
        </div>
        
        <div class="badge-settings-section">
            <div class="badge-toggle-container">
                <label for="badges-enabled">
                    <input type="checkbox" id="badges-enabled" name="badges-enabled">
                    Enable badges and achievements
                </label>
                <div>
                    <button type="button" id="view-badges-button" class="view-badges-button">View Earned Badges</button>
                </div>
            </div>
        </div>
        
        <!-- --- Add Leveling Toggle Section --- -->
        <div class="leveling-settings-section">
            <div class="leveling-toggle-container">
                <label for="levels-enabled">
                    <input type="checkbox" id="levels-enabled" name="levels-enabled">
                    Enable leveling system
                </label>
            </div>
        </div>
        
        <!-- --- Add Reset Game Section --- -->
        <div class="reset-game-section setting-group">
            <button type="button" id="reset-game-button" class="button danger-button">
                Reset All Progress
                <div class="difficulty-info">ⓘ
                    <span class="tooltip-text">WARNING: This will permanently reset all earned badges, challenges, and level progress. This cannot be undone.</span>
                </div>
            </button>
        </div>
        <!-- --- End Reset Game Section --- -->

        <button class="button big-button" id="submit">
            <svg viewBox="0 0 35 26" version="1.1" xmlns="http://www.w3.org/2000/svg"
                xmlns:xlink="http://www.w3.org/1999/xlink">
                <g id="Icons-/-Check-White" transform="translate(-3, -7)" fill="#FFFFFF">
                    <path d="M13.7827492,27.7056923 L6.19504261,20.1179857 C5.80549373,19.7284368 5.174255,19.7273215 4.78333206,20.1154915 L3.37877948,21.5101529 C2.98687769,21.8992948 2.98464037,22.5324558 3.37378229,22.9243576 C3.37461221,22.9251934 3.37544361,22.9260277 3.37627647,22.9268606 L13.0756424,32.6262266 C13.4661667,33.0167508 14.0993317,33.0167508 14.489856,32.6262266 L36.9384314,10.1776512 C37.3289557,9.78712686 37.3289557,9.15396188 36.9384314,8.76343759 L35.5484331,7.37410754 C35.1580393,6.98371368 34.5251319,6.9835642 34.1345537,7.37377361 L13.7827492,27.7056923 Z">
                    </path>
                </g>
            </svg>
            Save Settings
        </button>
    </div>
</div>